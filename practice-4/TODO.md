# Завдання 4

## Завдання 4.1 - Інструкція оновлення для Favorites
    Illia Bobyr • 19 квітня

#### Лаба фул складно*
    • 2 балла
    Строк: 26 квітня

Додайте нову інструкцію до програми Favorites, котра буде оновлювати вже задане число та/або колір користувача.
Пропоную назвати інструкцію UpdateFavorites.

Вам потрібно буде створити нову структуру для опису акаунтів інструкції, яку також є сенс назвати UpdateFavorites.
Також, потрібно буде додати обробник інструкції, котрий буде називатись update_favorites.
Нові число та колір мають передаватись як аргументи (а не акаунти) в нову інструкцію.
Майже так само, як вони передаються в наявну інструкцію.

Ви можете написати інструкцію так, аби потрібно було б вказувати кожен раз як число, так і колір.
Або ви можете зробити трохи більш складно, і використати тип Option: https://doc.rust-lang.org/std/option/enum.Option.html
Огорнувши аргументи інструкції в Option, ви дасте можливість користувачам як вказувати нове значення (Option::Some), так і не вказувати значення взагалі (Option::None).

Напишіть тест, котрий показує, що ваша інструкція працює.
Тест має спочатку створити запис для користувача, так само як вже зроблено в першому тесті.
А потім потрібно оновити цей запис.
Не забудьте, перевірити, що нові значення дійсно було збережено.

Майте на увазі, що акаунт favorites котрий ви будете оновлювати потрібно промаркірувати в переліку акаунтів як \`mut\`.
Так само як промаркіровано акаунт user.
Інакше оновлення не будуть зберігатись.

Додайте код до вашого github форку та викладіть оновлену версію в ваш форк на GitHub.
Долучіть до завдання скриншот, або декілька скриншотів, котрі демонструють виконання тесту.
Також долучіть посилання на код.

## Завдання 4.2 (додаткове) - Передача повноважень в Favorites
    Illia Bobyr • 19 квітня (Змінено: 08:20)
#### Лаба фул складно*
    •2 балла
    Строк : 26 квітня

Додайте до favorites новий тип акаунтів, котрий буде на додачу до числа та кольору, опціонально, ще зберігати адресу користувача, котрому надано можливість оновлювати параметри замість самого володаря.

Додайте нову інструкцію, котра дозволяє встановити "делегата" для таких нових акаунтів.
Можна назвати її \`set_authority\`.  І як варіант, вона буде приймати аргумент \`Option<Pubkey>\`, що вказує або на адресу нового делегата, або на необхідність прибрати делегацію.

Оновіть інструкцію \`update_favorites\` із завдання 4.1 так, аби її міг виконувати або людина котра створила запис, або делегат, що було вказано через інструкцію \`set_authority\`.

Напишіть принаймні один тест, котрий буде показувати, що додано делегата і значення оновлюється від імені делегата.

При збереженні адреси делегата в акаунті, використовуйте \`Option\`, так само як і для аргументів інструкції.

Для додаткового рівня складності, спробуйте зробити так, аби програма могла працювати як з акаунтами в яких є поле з делегатом, так і з "старими" акаунтами, де воно відсутнє.
Можливо для тестування буде зручно додати другу інструкцію створення акаунту.
Так, аби одна інструкція створювала "нові" акаунти, а друга - "старі".

Додайте код до вашого github форку та викладіть оновлену версію в ваш форк на GitHub.
Долучіть до завдання скриншот, або декілька скриншотів, котрі демонструють виконання тесту.
Також долучіть посилання на код.

## Завдання 4.3 - Інструкція закриття оферу для Escrow
    Illia Bobyr • 19 квітня 
#### Лаба фул складно*
    • 2 балла
    Строк : 26 квітня
    
Додайте нову інструкцію до програми Escrow, котра дасть можливість мейкеру закрити чинний офер.
При цьому потрібно закрити як сам офер акаунт, так і пов'язаний з ним vault акаунт.

Поверніть як токени так і SOL який було надано для оплати зберігання даних назад мейкеру.

Додайте код до вашого github форку та викладіть оновлену версію в ваш форк на GitHub.
Долучіть до завдання скриншот, або декілька скриншотів, котрі демонструють виконання тесту.
Також долучіть посилання на код.